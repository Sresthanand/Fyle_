{"ast":null,"code":"import { ActivatedRoute } from '@angular/router';\nimport { SubjectsService } from '../../core/services/subjects.service';\nimport { SearchService } from '../../core/services/search.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../core/services/subjects.service\";\nimport * as i3 from \"../../core/services/search.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../shared/table-view/table-view.component\";\nfunction TrendingSubjectsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"front-end-internship-assignment-table-view\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"booksList\", ctx_r0.allBooks)(\"subjectName\", ctx_r0.subjectName);\n  }\n}\nfunction TrendingSubjectsComponent_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 2);\n    i0.ɵɵelement(2, \"div\", 3);\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class TrendingSubjectsComponent {\n  constructor(route, subjectsService, searchService) {\n    this.route = route;\n    this.subjectsService = subjectsService;\n    this.searchService = searchService;\n    this.isLoading = false;\n    this.subjectName = '';\n    this.allBooks = [];\n    this.searchResultBooks = [];\n  }\n  getAllBooks() {\n    this.isLoading = true; // Show loader\n    this.subjectsService.getAllBooks(this.subjectName).subscribe(data => {\n      console.log('getAll');\n      console.log(data);\n      this.allBooks = data?.works;\n      this.isLoading = false;\n    });\n  }\n  // searchBooks(query: string, limit: number) {\n  //   this.searchService.searchBooks(query, limit).subscribe((data) => {\n  //     console.log('dATA');\n  //     console.log(data);\n  //     this.searchResultBooks = data?.docs;\n  //     this.isLoading = false;\n  //   });\n  // }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      this.subjectName = params.get('name') || '';\n      this.isLoading = true;\n      this.getAllBooks();\n    });\n    // this.searchBooks('null', 10); \n  }\n}\n\nTrendingSubjectsComponent.ɵfac = function TrendingSubjectsComponent_Factory(t) {\n  return new (t || TrendingSubjectsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.SubjectsService), i0.ɵɵdirectiveInject(i3.SearchService));\n};\nTrendingSubjectsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TrendingSubjectsComponent,\n  selectors: [[\"front-end-internship-assignment-trending-subjects\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [3, \"booksList\", \"subjectName\"], [\"colspan\", \"3\", 1, \"tw-text-16-px\", \"tw-p-12-px\", \"tw-border\", \"tw-border-gray-500\"], [1, \"loader\"]],\n  template: function TrendingSubjectsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, TrendingSubjectsComponent_div_0_Template, 2, 2, \"div\", 0);\n      i0.ɵɵtemplate(1, TrendingSubjectsComponent_tr_1_Template, 3, 0, \"tr\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.allBooks.length > 0 && !ctx.isLoading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n    }\n  },\n  dependencies: [i4.NgIf, i5.TableViewComponent],\n  styles: [\".loader[_ngcontent-%COMP%] {\\n  display: flex;\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 50%;\\n  margin-left: 50%;\\n  border: 3px solid #34b27a;\\n  border-top-color: transparent;\\n  animation: _ngcontent-%COMP%_spin 1s linear infinite;\\n}\\n\\n@keyframes _ngcontent-%COMP%_spin {\\n  to {\\n    transform: rotate(360deg);\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy90cmVuZGluZy1zdWJqZWN0cy90cmVuZGluZy1zdWJqZWN0cy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx5QkFBQTtFQUNBLDZCQUFBO0VBQ0Esa0NBQUE7QUFDSjs7QUFFRTtFQUNFO0lBQ0UseUJBQUE7RUFDSjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmxvYWRlciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICAgIHdpZHRoOiA1MHB4O1xyXG4gICAgaGVpZ2h0OiA1MHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDUwJTtcclxuICAgIGJvcmRlcjogM3B4IHNvbGlkICMzNGIyN2E7IFxyXG4gICAgYm9yZGVyLXRvcC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBhbmltYXRpb246IHNwaW4gMXMgbGluZWFyIGluZmluaXRlOyBcclxuICB9XHJcbiAgXHJcbiAgQGtleWZyYW1lcyBzcGluIHtcclxuICAgIHRvIHtcclxuICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcclxuICAgIH1cclxuICB9XHJcbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,cAAc,QAAkB,iBAAiB;AAC1D,SAASC,eAAe,QAAQ,sCAAsC;AAEtE,SAASC,aAAa,QAAQ,oCAAoC;;;;;;;;;ICJlEC,2BAA+C;IAC3CA,gEAI8C;IAChDA,iBAAM;;;;IAHJA,eAAsB;IAAtBA,2CAAsB;;;;;IAKxBA,0BAAsB;IAElBA,yBAA0B;IAC5BA,iBAAK;;;ADCT,OAAM,MAAOC,yBAAyB;EAOpCC,YACUC,KAAqB,EACrBC,eAAgC,EAC/BC,aAA4B;IAF7B,UAAK,GAALF,KAAK;IACL,oBAAe,GAAfC,eAAe;IACd,kBAAa,GAAbC,aAAa;IARxB,cAAS,GAAY,KAAK;IAC1B,gBAAW,GAAW,EAAE;IACxB,aAAQ,GAAW,EAAE;IACrB,sBAAiB,GAAiB,EAAE;EAMjC;EAEHC,WAAW;IAET,IAAI,CAACC,SAAS,GAAG,IAAI,CAAC,CAAC;IAEvB,IAAI,CAACH,eAAe,CAACE,WAAW,CAAC,IAAI,CAACE,WAAW,CAAC,CAACC,SAAS,CAAEC,IAAI,IAAI;MACpEC,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;MACrBD,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB,IAAI,CAACG,QAAQ,GAAGH,IAAI,EAAEI,KAAK;MAC3B,IAAI,CAACP,SAAS,GAAG,KAAK;IACxB,CAAC,CAAC;EACJ;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEAQ,QAAQ;IACN,IAAI,CAACZ,KAAK,CAACa,QAAQ,CAACP,SAAS,CAAEQ,MAAgB,IAAI;MACjD,IAAI,CAACT,WAAW,GAAGS,MAAM,CAACC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE;MAC3C,IAAI,CAACX,SAAS,GAAG,IAAI;MACrB,IAAI,CAACD,WAAW,EAAE;IACpB,CAAC,CAAC;IACF;EACF;;;AAzCWL,yBAAyB;mBAAzBA,yBAAyB;AAAA;AAAzBA,yBAAyB;QAAzBA,yBAAyB;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZtCvB,0EAMQ;MAENA,wEAIK;;;MAZDA,gEAAuC;MAQtCA,eAAe;MAAfA,oCAAe","names":["ActivatedRoute","SubjectsService","SearchService","i0","TrendingSubjectsComponent","constructor","route","subjectsService","searchService","getAllBooks","isLoading","subjectName","subscribe","data","console","log","allBooks","works","ngOnInit","paramMap","params","get","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\SRESTH\\Desktop\\Fyle_\\Fyle_\\src\\app\\components\\trending-subjects\\trending-subjects.component.ts","C:\\Users\\SRESTH\\Desktop\\Fyle_\\Fyle_\\src\\app\\components\\trending-subjects\\trending-subjects.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { SubjectsService } from '../../core/services/subjects.service';\r\nimport { Book } from 'src/app/core/models/book-response.model';\r\nimport { SearchService } from '../../core/services/search.service';\r\nimport { SearchBook } from 'src/app/core/models/search-book-response.model';\r\n\r\n@Component({\r\n  selector: 'front-end-internship-assignment-trending-subjects',\r\n  templateUrl: './trending-subjects.component.html',\r\n  styleUrls: ['./trending-subjects.component.scss'],\r\n})\r\nexport class TrendingSubjectsComponent implements OnInit {\r\n\r\n  isLoading: boolean = false;\r\n  subjectName: string = '';\r\n  allBooks: Book[] = [];\r\n  searchResultBooks: SearchBook[] = [];\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private subjectsService: SubjectsService,\r\n     private searchService: SearchService\r\n  ) {}\r\n\r\n  getAllBooks() {\r\n\r\n    this.isLoading = true; // Show loader\r\n\r\n    this.subjectsService.getAllBooks(this.subjectName).subscribe((data) => {\r\n      console.log('getAll');\r\n      console.log(data);\r\n      this.allBooks = data?.works;\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  // searchBooks(query: string, limit: number) {\r\n  //   this.searchService.searchBooks(query, limit).subscribe((data) => {\r\n  //     console.log('dATA');\r\n  //     console.log(data);\r\n  //     this.searchResultBooks = data?.docs;\r\n  //     this.isLoading = false;\r\n  //   });\r\n  // }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe((params: ParamMap) => {\r\n      this.subjectName = params.get('name') || '';\r\n      this.isLoading = true;\r\n      this.getAllBooks();\r\n    });\r\n    // this.searchBooks('null', 10); \r\n  }\r\n}\r\n","<div *ngIf=\"allBooks.length > 0 && !isLoading\">\r\n    <front-end-internship-assignment-table-view\r\n    \r\n    [booksList]=\"allBooks\"\r\n    [subjectName]=\"subjectName\"\r\n    ></front-end-internship-assignment-table-view>\r\n  </div>\r\n\r\n  <tr *ngIf=\"isLoading\">\r\n    <td colspan=\"3\" class=\"tw-text-16-px tw-p-12-px tw-border tw-border-gray-500\">\r\n      <div class=\"loader\"></div>\r\n    </td>\r\n  </tr>\r\n  \r\n\r\n  <!-- [searchBooks]=\"searchResultBooks\" -->\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
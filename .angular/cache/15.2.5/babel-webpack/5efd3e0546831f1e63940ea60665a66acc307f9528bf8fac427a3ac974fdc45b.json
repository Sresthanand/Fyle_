{"ast":null,"code":"import { ActivatedRoute } from '@angular/router';\nimport { SubjectsService } from '../../core/services/subjects.service';\nimport { SearchService } from '../../core/services/search.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../core/services/subjects.service\";\nimport * as i3 from \"../../core/services/search.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../shared/table-view/table-view.component\";\nfunction TrendingSubjectsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"front-end-internship-assignment-table-view\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"booksList\", ctx_r0.allBooks)(\"subjectName\", ctx_r0.subjectName);\n  }\n}\nexport class TrendingSubjectsComponent {\n  constructor(route, subjectsService, searchService) {\n    this.route = route;\n    this.subjectsService = subjectsService;\n    this.searchService = searchService;\n    this.isLoading = true;\n    this.subjectName = '';\n    this.allBooks = [];\n    this.searchResultBooks = [];\n  }\n  getAllBooks() {\n    this.subjectsService.getAllBooks(this.subjectName).subscribe(data => {\n      this.allBooks = data?.works;\n      this.isLoading = false;\n    });\n  }\n  searchBooks(query, limit) {\n    this.searchService.searchBooks(query, limit).subscribe(data => {\n      this.searchResultBooks = data?.works;\n      this.isLoading = false;\n    });\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      this.subjectName = params.get('name') || '';\n      this.isLoading = true;\n      this.getAllBooks();\n    });\n    this.searchBooks('initial query', 10); // Replace with appropriate values\n  }\n}\n\nTrendingSubjectsComponent.ɵfac = function TrendingSubjectsComponent_Factory(t) {\n  return new (t || TrendingSubjectsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.SubjectsService), i0.ɵɵdirectiveInject(i3.SearchService));\n};\nTrendingSubjectsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TrendingSubjectsComponent,\n  selectors: [[\"front-end-internship-assignment-trending-subjects\"]],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [3, \"booksList\", \"subjectName\"]],\n  template: function TrendingSubjectsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, TrendingSubjectsComponent_div_0_Template, 2, 2, \"div\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.allBooks.length > 0);\n    }\n  },\n  dependencies: [i4.NgIf, i5.TableViewComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,cAAc,QAAkB,iBAAiB;AAC1D,SAASC,eAAe,QAAQ,sCAAsC;AACtE,SAASC,aAAa,QAAQ,oCAAoC;;;;;;;;;ICHlEC,2BAAiC;IAC/BA,gEAG8C;IAChDA,iBAAM;;;;IAHJA,eAAsB;IAAtBA,2CAAsB;;;ADSxB,OAAM,MAAOC,yBAAyB;EAOpCC,YACUC,KAAqB,EACrBC,eAAgC,EAChCC,aAA4B;IAF5B,UAAK,GAALF,KAAK;IACL,oBAAe,GAAfC,eAAe;IACf,kBAAa,GAAbC,aAAa;IARvB,cAAS,GAAY,IAAI;IACzB,gBAAW,GAAW,EAAE;IACxB,aAAQ,GAAW,EAAE;IACrB,sBAAiB,GAAW,EAAE;EAM3B;EAEHC,WAAW;IACT,IAAI,CAACF,eAAe,CAACE,WAAW,CAAC,IAAI,CAACC,WAAW,CAAC,CAACC,SAAS,CAAEC,IAAI,IAAI;MACpE,IAAI,CAACC,QAAQ,GAAGD,IAAI,EAAEE,KAAK;MAC3B,IAAI,CAACC,SAAS,GAAG,KAAK;IACxB,CAAC,CAAC;EACJ;EAEAC,WAAW,CAACC,KAAa,EAAEC,KAAa;IACtC,IAAI,CAACV,aAAa,CAACQ,WAAW,CAACC,KAAK,EAAEC,KAAK,CAAC,CAACP,SAAS,CAAEC,IAAI,IAAI;MAC9D,IAAI,CAACO,iBAAiB,GAAGP,IAAI,EAAEE,KAAK;MACpC,IAAI,CAACC,SAAS,GAAG,KAAK;IACxB,CAAC,CAAC;EACJ;EAEAK,QAAQ;IACN,IAAI,CAACd,KAAK,CAACe,QAAQ,CAACV,SAAS,CAAEW,MAAgB,IAAI;MACjD,IAAI,CAACZ,WAAW,GAAGY,MAAM,CAACC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE;MAC3C,IAAI,CAACR,SAAS,GAAG,IAAI;MACrB,IAAI,CAACN,WAAW,EAAE;IACpB,CAAC,CAAC;IACF,IAAI,CAACO,WAAW,CAAC,eAAe,EAAE,EAAE,CAAC,CAAC,CAAC;EACzC;;;AAlCWZ,yBAAyB;mBAAzBA,yBAAyB;AAAA;AAAzBA,yBAAyB;QAAzBA,yBAAyB;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXtCzB,0EAKM;;;MALAA,8CAAyB","names":["ActivatedRoute","SubjectsService","SearchService","i0","TrendingSubjectsComponent","constructor","route","subjectsService","searchService","getAllBooks","subjectName","subscribe","data","allBooks","works","isLoading","searchBooks","query","limit","searchResultBooks","ngOnInit","paramMap","params","get","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\SRESTH\\Desktop\\Fyle_\\Fyle_\\src\\app\\components\\trending-subjects\\trending-subjects.component.ts","C:\\Users\\SRESTH\\Desktop\\Fyle_\\Fyle_\\src\\app\\components\\trending-subjects\\trending-subjects.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, ParamMap } from '@angular/router';\r\nimport { SubjectsService } from '../../core/services/subjects.service';\r\nimport { SearchService } from '../../core/services/search.service';\r\nimport { Book } from 'src/app/core/models/book-response.model';\r\n\r\n@Component({\r\n  selector: 'front-end-internship-assignment-trending-subjects',\r\n  templateUrl: './trending-subjects.component.html',\r\n  styleUrls: ['./trending-subjects.component.scss'],\r\n})\r\nexport class TrendingSubjectsComponent implements OnInit {\r\n\r\n  isLoading: boolean = true;\r\n  subjectName: string = '';\r\n  allBooks: Book[] = [];\r\n  searchResultBooks: Book[] = [];\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private subjectsService: SubjectsService,\r\n    private searchService: SearchService\r\n  ) {}\r\n\r\n  getAllBooks() {\r\n    this.subjectsService.getAllBooks(this.subjectName).subscribe((data) => {\r\n      this.allBooks = data?.works;\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  searchBooks(query: string, limit: number) {\r\n    this.searchService.searchBooks(query, limit).subscribe((data) => {\r\n      this.searchResultBooks = data?.works;\r\n      this.isLoading = false;\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.route.paramMap.subscribe((params: ParamMap) => {\r\n      this.subjectName = params.get('name') || '';\r\n      this.isLoading = true;\r\n      this.getAllBooks();\r\n    });\r\n    this.searchBooks('initial query', 10); // Replace with appropriate values\r\n  }\r\n}\r\n","<div *ngIf=\"allBooks.length > 0\">\r\n  <front-end-internship-assignment-table-view\r\n  [booksList]=\"allBooks\"\r\n  [subjectName]=\"subjectName\"\r\n  ></front-end-internship-assignment-table-view>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
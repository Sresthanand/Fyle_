{"ast":null,"code":"var _a;\nimport { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { SearchService } from 'path/to/search.service';\nlet SearchResultsComponent = class SearchResultsComponent {\n  constructor(searchService) {\n    this.searchService = searchService;\n    this.currentPage = 1;\n    this.totalPages = 1;\n    this.offset = 0;\n    this.limit = 10;\n    this.searchResultBooks = [];\n    this.pagesArray = [];\n  }\n  ngOnInit() {\n    this.searchBooks('null', this.offset, this.limit);\n  }\n  searchBooks(query, offset, limit) {\n    this.searchService.searchBooks(query, offset, limit).subscribe(data => {\n      console.log('DATA');\n      console.log(data);\n      this.searchResultBooks = data?.docs;\n      this.totalPages = Math.ceil(data?.numFound / this.limit);\n      this.pagesArray = Array.from({\n        length: this.totalPages\n      }, (_, i) => i + 1);\n    });\n  }\n  previousPage() {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n      this.offset = (this.currentPage - 1) * this.limit;\n      this.searchBooks('null', this.offset, this.limit);\n    }\n  }\n  nextPage() {\n    if (this.currentPage < this.totalPages) {\n      this.currentPage++;\n      this.offset = (this.currentPage - 1) * this.limit;\n      this.searchBooks('null', this.offset, this.limit);\n    }\n  }\n  goToPage(page) {\n    if (this.currentPage !== page) {\n      this.currentPage = page;\n      this.offset = (this.currentPage - 1) * this.limit;\n      this.searchBooks('null', this.offset, this.limit);\n    }\n  }\n};\nSearchResultsComponent = __decorate([Component({\n  selector: 'app-search-results',\n  templateUrl: 'search-results.component.html',\n  styleUrls: ['search-results.component.css']\n}), __metadata(\"design:paramtypes\", [typeof (_a = typeof SearchService !== \"undefined\" && SearchService) === \"function\" ? _a : Object])], SearchResultsComponent);\nexport { SearchResultsComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,aAAa,QAAQ,wBAAwB;AAO/C,IAAMC,sBAAsB,GAA5B,MAAMA,sBAAsB;EAQjCC,YAAoBC,aAA4B;IAA5B,kBAAa,GAAbA,aAAa;IAPjC,gBAAW,GAAW,CAAC;IACvB,eAAU,GAAW,CAAC;IACtB,WAAM,GAAW,CAAC;IAClB,UAAK,GAAW,EAAE;IAClB,sBAAiB,GAAU,EAAE;IAC7B,eAAU,GAAa,EAAE;EAE0B;EAEnDC,QAAQ;IACN,IAAI,CAACC,WAAW,CAAC,MAAM,EAAE,IAAI,CAACC,MAAM,EAAE,IAAI,CAACC,KAAK,CAAC;EACnD;EAEAF,WAAW,CAACG,KAAa,EAAEF,MAAc,EAAEC,KAAa;IACtD,IAAI,CAACJ,aAAa,CAACE,WAAW,CAACG,KAAK,EAAEF,MAAM,EAAEC,KAAK,CAAC,CAACE,SAAS,CAAEC,IAAI,IAAI;MACtEC,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;MACnBD,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB,IAAI,CAACG,iBAAiB,GAAGH,IAAI,EAAEI,IAAI;MACnC,IAAI,CAACC,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACP,IAAI,EAAEQ,QAAQ,GAAG,IAAI,CAACX,KAAK,CAAC;MACxD,IAAI,CAACY,UAAU,GAAGC,KAAK,CAACC,IAAI,CAAC;QAAEC,MAAM,EAAE,IAAI,CAACP;MAAU,CAAE,EAAE,CAACQ,CAAC,EAAEC,CAAC,KAAKA,CAAC,GAAG,CAAC,CAAC;IAC5E,CAAC,CAAC;EACJ;EAEAC,YAAY;IACV,IAAI,IAAI,CAACC,WAAW,GAAG,CAAC,EAAE;MACxB,IAAI,CAACA,WAAW,EAAE;MAClB,IAAI,CAACpB,MAAM,GAAG,CAAC,IAAI,CAACoB,WAAW,GAAG,CAAC,IAAI,IAAI,CAACnB,KAAK;MACjD,IAAI,CAACF,WAAW,CAAC,MAAM,EAAE,IAAI,CAACC,MAAM,EAAE,IAAI,CAACC,KAAK,CAAC;;EAErD;EAEAoB,QAAQ;IACN,IAAI,IAAI,CAACD,WAAW,GAAG,IAAI,CAACX,UAAU,EAAE;MACtC,IAAI,CAACW,WAAW,EAAE;MAClB,IAAI,CAACpB,MAAM,GAAG,CAAC,IAAI,CAACoB,WAAW,GAAG,CAAC,IAAI,IAAI,CAACnB,KAAK;MACjD,IAAI,CAACF,WAAW,CAAC,MAAM,EAAE,IAAI,CAACC,MAAM,EAAE,IAAI,CAACC,KAAK,CAAC;;EAErD;EAEAqB,QAAQ,CAACC,IAAY;IACnB,IAAI,IAAI,CAACH,WAAW,KAAKG,IAAI,EAAE;MAC7B,IAAI,CAACH,WAAW,GAAGG,IAAI;MACvB,IAAI,CAACvB,MAAM,GAAG,CAAC,IAAI,CAACoB,WAAW,GAAG,CAAC,IAAI,IAAI,CAACnB,KAAK;MACjD,IAAI,CAACF,WAAW,CAAC,MAAM,EAAE,IAAI,CAACC,MAAM,EAAE,IAAI,CAACC,KAAK,CAAC;;EAErD;CACD;AA/CYN,sBAAsB,eALlCF,SAAS,CAAC;EACT+B,QAAQ,EAAE,oBAAoB;EAC9BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,uDASmChC,aAAa,oBAAbA,aAAa,mCARrCC,sBAAsB,CA+ClC;SA/CYA,sBAAsB","names":["Component","SearchService","SearchResultsComponent","constructor","searchService","ngOnInit","searchBooks","offset","limit","query","subscribe","data","console","log","searchResultBooks","docs","totalPages","Math","ceil","numFound","pagesArray","Array","from","length","_","i","previousPage","currentPage","nextPage","goToPage","page","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\SRESTH\\Desktop\\Fyle_\\Fyle_\\src\\app\\components\\home\\home.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { SearchService } from 'path/to/search.service';\r\n\r\n@Component({\r\n  selector: 'app-search-results',\r\n  templateUrl: 'search-results.component.html',\r\n  styleUrls: ['search-results.component.css']\r\n})\r\nexport class SearchResultsComponent implements OnInit {\r\n  currentPage: number = 1;\r\n  totalPages: number = 1;\r\n  offset: number = 0;\r\n  limit: number = 10;\r\n  searchResultBooks: any[] = [];\r\n  pagesArray: number[] = [];\r\n\r\n  constructor(private searchService: SearchService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.searchBooks('null', this.offset, this.limit);\r\n  }\r\n\r\n  searchBooks(query: string, offset: number, limit: number) {\r\n    this.searchService.searchBooks(query, offset, limit).subscribe((data) => {\r\n      console.log('DATA');\r\n      console.log(data);\r\n      this.searchResultBooks = data?.docs;\r\n      this.totalPages = Math.ceil(data?.numFound / this.limit);\r\n      this.pagesArray = Array.from({ length: this.totalPages }, (_, i) => i + 1);\r\n    });\r\n  }\r\n\r\n  previousPage() {\r\n    if (this.currentPage > 1) {\r\n      this.currentPage--;\r\n      this.offset = (this.currentPage - 1) * this.limit;\r\n      this.searchBooks('null', this.offset, this.limit);\r\n    }\r\n  }\r\n\r\n  nextPage() {\r\n    if (this.currentPage < this.totalPages) {\r\n      this.currentPage++;\r\n      this.offset = (this.currentPage - 1) * this.limit;\r\n      this.searchBooks('null', this.offset, this.limit);\r\n    }\r\n  }\r\n\r\n  goToPage(page: number) {\r\n    if (this.currentPage !== page) {\r\n      this.currentPage = page;\r\n      this.offset = (this.currentPage - 1) * this.limit;\r\n      this.searchBooks('null', this.offset, this.limit);\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}